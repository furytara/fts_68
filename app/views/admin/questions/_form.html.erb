<div id="word-form-container" class="row">
  <%= form_for [:admin, @question] do |f| %>
    <div class="col-md-6 col-md-offset-3 form-group">
      <%= render "shared/error_messages", object: f.object %>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group">
      <%= f.label :subject %><br>
      <%= f.collection_select :subject_id, @subjects, :id, :name, {},
        {class: "form-control"} %>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group">
      <%= f.label :content %><br>
      <%= f.text_area :content, class: "form-control" %>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group">
      <span class="label label-info"><%= t "code_input" %></span>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group">
      <%= f.label :question_type %><br>
      <%= f.collection_select :question_type,
        Question.question_types.map {|key, value| [key.humanize, key]},
        :second, :first, {}, {class: "form-control",
        disabled: disable_select?(params[:action])} %>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group form-inline">
      <lable>
        <%= f.check_box :state, {class:"form-control big-checkbox",
          checked: f.object.active?}, :active, :inactive %>
        <%= t "active" %>
      </lable>
    </div>
    <div id="single-choice-question" class="col-md-6 col-md-offset-3 form-group">
      <%= link_to_add_fields t("add_option"), f, :answers, "radio_button" %>
      <% if f.object.question_type == "single_choice" %>
        <%= f.fields_for :answers do |answers_for_form| %>
          <%= render "shared/answer_radio_button", f: answers_for_form %>
        <% end %>
      <% end %>
    </div>
    <div id="multiple-choice-question" class="col-md-6 col-md-offset-3 form-group">
      <%= link_to_add_fields t("add_option"), f, :answers, "check_box" %>
      <% if f.object.question_type == "multiple_choice" %>
        <%= f.fields_for :answers do |answers_for_form| %>
          <%= render "shared/answer_check_box", f: answers_for_form %>
        <% end %>
      <% end %>
    </div>
    <div id="text-question" class="col-md-6 col-md-offset-3 hidden">
      <% if f.object.question_type == "text" %>
        <%= f.fields_for :answers do |answers_for_form| %>
          <%= render "shared/answer_text", f: answers_for_form %>
        <% end %>
      <% end %>
    </div>
    <div class="col-md-6 col-md-offset-3 form-group text-center">
      <% if f.object.state == "waiting" %>
        <%= f.submit t("approve"), class: "btn btn-primary text-center" %>
        <%= link_to t("reject"), admin_question_path(question: @question,
          question: {state: :rejected}), method: :put,
          data: {confirm: t("confirm")}, class: "btn btn-danger" %>
      <% else %>
        <%= f.submit yield(:button_text),
          class: "btn btn-primary text-center" %>
      <% end %>
    </div>
  <% end %>
</div>
